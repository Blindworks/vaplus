<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui">

	<h:body>
	
    	<ui:composition template="/WEB-INF/template/common/commonLayout.xhtml">
 
			<ui:param name="heading1" value="Warenwirtschafts Einstellungen" />
		
    		<ui:define name="content">
    		
    		
			
    		<div class="row">
				<div class="col-lg-12">
		            <div class="ibox float-e-margins">
		            	<h:form class="form-horizontal" id="systemProperties" enctype="multipart/form-data">
		                <div class="ibox-title">
		                    <div class="ibox-tools">
		                    	<h:panelGroup  rendered="#{permissionBean.hasPermission('settings','edit')}">
								    <h:commandLink id="saveButton" class="btn btn-xs btn-primary " action="#{propertyBean.toggleSystemPropertiesEditable}"  rendered="#{propertyBean.systemPropertiesEditable}">
									   <f:ajax execute="@form" render="systemProperties"/>
									   <i class="fa fa-save"></i>
									</h:commandLink>
								    <h:commandLink  class="btn btn-xs btn-primary "  action="#{propertyBean.toggleSystemPropertiesEditable}" rendered="#{propertyBean.systemPropertiesEditable}">
									   <f:ajax render="systemProperties"/>
									   <i class="fa fa-times"></i>
									</h:commandLink>
								    <h:commandLink  class="btn btn-xs btn-primary " action="#{propertyBean.toggleSystemPropertiesEditable}"  rendered="#{not propertyBean.systemPropertiesEditable}">
									   <f:ajax render="systemProperties" onevent="updatePluginsEvent"/>
									   <i class="fa fa-pencil"></i>
									</h:commandLink>
								</h:panelGroup>
		                    </div>
		                </div>
		                <div class="ibox-content">
		                	<div class="form-group">
									<label class="col-sm-6 control-label">Dokumenten Logo</label>				 
									<div class="col-sm-6">
									 <h:panelGroup rendered="#{not propertyBean.systemPropertiesEditable}">
									 </h:panelGroup>				
									
									<h:inputFile id="docImageUpload" value="#{stockManagementBean.newDocImage}" rendered="#{propertyBean.systemPropertiesEditable}">
								  		<f:ajax event="change" render="" />
									</h:inputFile>
										
									</div>
							</div>
		                
		                	<div class="form-group">
									<label class="col-sm-6 control-label">Rechnungs-Einleitung</label>				 
									<div class="col-sm-6">
									 <h:panelGroup rendered="#{not propertyBean.systemPropertiesEditable}">
									 	<p class="form-control-static">
									 		<h:outputText value="#{helperBean.nl2br(propertyBean.invoiceIntroduction)}" escape="false">
									 		</h:outputText>
									 	</p>
									 </h:panelGroup>	
										<h:inputTextarea rows="5" value="#{propertyBean.invoiceIntroduction}"  rendered="#{propertyBean.systemPropertiesEditable}"
											class="form-control">
										</h:inputTextarea>
									</div>
							</div>
		                
		                	<div class="form-group">
									<label class="col-sm-6 control-label">Rechnungs-Abschluss</label>				 
									<div class="col-sm-6">
									 <h:panelGroup rendered="#{not propertyBean.systemPropertiesEditable}">
									 	<p class="form-control-static">
									 		<h:outputText value="#{helperBean.nl2br(propertyBean.invoiceClosing)}" escape="false">
									 		</h:outputText>
									 	</p>
									 </h:panelGroup>				
										<h:inputTextarea rows="5" value="#{propertyBean.invoiceClosing}"  rendered="#{propertyBean.systemPropertiesEditable}"
											class="form-control">
										</h:inputTextarea>
									</div>
							</div>

		                
		                
		                </div>
		                
		            <p:defaultCommand target="saveButton" />
		    		</h:form>
	                </div>
	                
	              
		                
	                
               </div>
            </div>
    			
    		</ui:define>
    		
    		
    	</ui:composition>
    </h:body>
</html>